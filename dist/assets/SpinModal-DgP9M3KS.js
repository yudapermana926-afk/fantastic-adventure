import{c as m,u as z,r as a,j as e,X as T,S as j,z as $,n as o}from"./index-CA2xEXh_.js";import{G as N}from"./gift-Bj_wn6-E.js";import{Z as A}from"./zap-L-fdDti7.js";import{S as I}from"./sparkles-BqjlvUoD.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],w=m("play",D);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],v=m("rotate-ccw",O);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],E=m("timer",J),q=({isOpen:k,onClose:p,onWatchAd:x,onShowToast:c})=>{const{isSpinning:r,currentSpinReward:g,spinShowResult:n,canFreeSpinNow:i,formatSpinCooldown:h,startSpin:u,claimFreeSpinReward:b,closeSpinResult:d}=z(),[s,f]=a.useState("FREE"),[K,L]=a.useState(""),R=[{icon:"ðŸª™",label:"50 PTS",color:"from-gray-400 to-gray-600"},{icon:"ðŸ’Ž",label:"200 PTS",color:"from-blue-400 to-blue-600"},{icon:"ðŸ€",label:"Common",color:"from-green-400 to-green-600"},{icon:"ðŸŽ°",label:"JACKPOT",color:"from-yellow-400 to-orange-500"},{icon:"ðŸ’°",label:"100 PTS",color:"from-emerald-400 to-emerald-600"},{icon:"âœ¨",label:"Rare",color:"from-purple-400 to-purple-600"},{icon:"ðŸŒŸ",label:"Epic",color:"from-orange-400 to-red-500"},{icon:"ðŸ‘‘",label:"Legendary",color:"from-yellow-300 to-yellow-600"}],[S,y]=a.useState(0);a.useEffect(()=>{if(r){const t=setInterval(()=>{y(l=>l+30)},50);return()=>clearInterval(t)}},[r]),a.useEffect(()=>{!r&&!n&&y(0)},[r,n]);const P=a.useCallback(()=>{const t=u(s==="PAID");t.success||c(t.message,"info")},[s,u,c]),C=a.useCallback(()=>{if(s==="FREE"){x&&x();const t=b();t.success&&(c(t.message,"success"),d())}else d()},[s,x,b,d,c]),F=t=>{if(!t)return null;const l=t.rarity?$(t.rarity):null;return e.jsxs("div",{className:`relative overflow-hidden rounded-2xl border-2 p-6 text-center transition-all duration-500 ${l?`${l.bg} ${l.border}`:"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 border-yellow-500/50"}`,children:[(t.rarity===o.EPIC||t.rarity===o.LEGENDARY||t.type==="JACKPOT")&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-pulse"}),(t.rarity===o.EPIC||t.rarity===o.LEGENDARY||t.type==="JACKPOT")&&e.jsx("div",{className:"mb-4 animate-bounce",children:e.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full font-bold text-sm ${t.type==="JACKPOT"?"bg-yellow-500 text-black":t.rarity===o.LEGENDARY?"bg-gradient-to-r from-yellow-400 to-yellow-600 text-black":"bg-gradient-to-r from-orange-400 to-red-500 text-white"}`,children:[e.jsx(I,{size:16}),t.type==="JACKPOT"?"JACKPOT!":`${t.rarity} REWARD!`]})}),e.jsx("div",{className:"text-8xl mb-4 relative z-10 animate-bounce",children:t.icon||(t.type==="COINS"?"ðŸ’°":t.type==="JACKPOT"?"ðŸŽ°":"ðŸŽ")}),e.jsx("h3",{className:`text-2xl font-black mb-2 ${l?l.text:"text-yellow-400"}`,children:t.type==="JACKPOT"?"1,500 PTS":t.type==="COINS"?`${t.value} PTS`:t.value}),t.rarity&&e.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-black/30 text-white text-sm font-semibold",children:[e.jsx(j,{size:14,className:l==null?void 0:l.text}),t.rarity]}),s==="FREE"&&e.jsx("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/30 rounded-xl",children:e.jsx("p",{className:"text-red-400 text-sm font-semibold animate-pulse",children:"âš ï¸ Watch ad to claim this reward!"})})]})};return k?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md",onClick:p}),e.jsxs("div",{className:"relative w-full max-w-md bg-[#121212] border border-white/10 rounded-3xl shadow-2xl overflow-hidden backdrop-blur-xl animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex justify-between items-center p-5 bg-gradient-to-r from-purple-600 to-pink-600 border-b border-white/10 shrink-0",children:[e.jsxs("h2",{className:"text-xl font-black tracking-widest uppercase text-white drop-shadow-sm flex items-center gap-2",children:[e.jsx(v,{size:24,className:"fill-white"})," Lucky Spin"]}),e.jsx("button",{onClick:p,className:"bg-black/20 p-2 rounded-full hover:bg-black/40 text-white transition-colors",children:e.jsx(T,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[!n&&e.jsxs("div",{className:"flex gap-2 p-1 bg-gray-800/50 rounded-xl",children:[e.jsxs("button",{onClick:()=>f("FREE"),className:`flex-1 py-3 rounded-lg font-bold text-sm transition-all duration-300 flex items-center justify-center gap-2 ${s==="FREE"?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:[e.jsx(N,{size:16})," Free",i()?e.jsx("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded",children:"Ready!"}):e.jsxs("span",{className:"text-xs flex items-center gap-1",children:[e.jsx(E,{size:12})," ",h()]})]}),e.jsxs("button",{onClick:()=>f("PAID"),className:`flex-1 py-3 rounded-lg font-bold text-sm transition-all duration-300 flex items-center justify-center gap-2 ${s==="PAID"?"bg-gradient-to-r from-yellow-500 to-orange-500 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:[e.jsx(A,{size:16})," Paid",e.jsx("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded",children:"150 PTS"})]})]}),n&&g?e.jsxs("div",{className:"py-4",children:[F(g),e.jsx("button",{onClick:C,className:`w-full mt-4 py-4 rounded-xl font-black text-lg uppercase tracking-wider transition-all duration-300 flex items-center justify-center gap-2 ${s==="FREE"?"bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:scale-105 shadow-lg shadow-green-500/30 animate-bounce":"bg-gradient-to-r from-yellow-500 to-orange-500 text-white hover:scale-105 shadow-lg"}`,children:s==="FREE"?e.jsxs(e.Fragment,{children:[e.jsx(w,{size:20,fill:"currentColor"})," Watch Ad & Claim"]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{size:20,fill:"currentColor"})," Claim Reward"]})}),s==="PAID"&&e.jsx("button",{onClick:d,className:"w-full mt-3 py-3 rounded-xl font-semibold text-sm text-gray-400 hover:text-white transition-colors",children:"Dismiss"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative py-6",children:[e.jsxs("div",{className:"relative w-72 h-72 mx-auto rounded-full border-4 border-white/20 overflow-hidden shadow-2xl",style:{transform:`rotate(${S}deg)`,transition:r?"none":"transform 0.5s ease-out"},children:[R.map((t,l)=>e.jsx("div",{className:`absolute w-full h-full bg-gradient-to-br ${t.color} flex items-center justify-center`,style:{clipPath:"polygon(50% 50%, 100% 0, 100% 12.5%, 50% 12.5%)",transform:`rotate(${l*45}deg)`},children:e.jsx("span",{className:"absolute top-4 text-2xl",style:{transform:"rotate(67.5deg)"},children:t.icon})},l)),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-800 to-black rounded-full border-4 border-white/30 shadow-lg z-10",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(j,{size:24,className:"text-yellow-400 fill-yellow-400"})})})})]}),e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1 z-20",children:e.jsx("div",{className:"w-0 h-0 border-l-[16px] border-l-transparent border-r-[16px] border-r-transparent border-t-[24px] border-t-white drop-shadow-lg"})})]}),r&&e.jsx("div",{className:"text-center py-4",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-500/20 border border-purple-500/30 rounded-full",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-purple-400 font-semibold",children:"Spinning..."})]})}),!r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-center py-2",children:e.jsx("p",{className:"text-gray-400 text-sm",children:s==="FREE"?i()?"Ready to spin for FREE!":`Free spin available in ${h()}`:"Pay 150 PTS to spin instantly"})}),e.jsxs("button",{onClick:P,disabled:r||s==="FREE"&&!i(),className:`w-full py-4 rounded-xl font-black text-lg uppercase tracking-wider transition-all duration-300 flex items-center justify-center gap-2 ${s==="FREE"?i()?"bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:scale-105 shadow-lg shadow-green-500/30":"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-yellow-500 to-orange-500 text-white hover:scale-105 shadow-lg"}`,children:[e.jsx(w,{size:20,fill:"currentColor"}),s==="FREE"?"Free Spin":"Pay & Spin (150 PTS)"]}),s==="FREE"&&!i()&&e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3 text-gray-500 text-xs",children:[e.jsx(E,{size:14}),e.jsx("span",{children:"Free spin resets every hour"})]})]})]}),!n&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-800/30 rounded-xl border border-white/5",children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Prize Pool"}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[e.jsxs("div",{className:"p-2 bg-gray-800/50 rounded-lg",children:[e.jsx("span",{className:"text-lg",children:"ðŸª™"}),e.jsx("p",{className:"text-xs text-gray-400",children:"50-200 PTS"})]}),e.jsxs("div",{className:"p-2 bg-green-800/30 rounded-lg",children:[e.jsx("span",{className:"text-lg",children:"ðŸ¥¬"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Common"})]}),e.jsxs("div",{className:"p-2 bg-purple-800/30 rounded-lg",children:[e.jsx("span",{className:"text-lg",children:"ðŸ«‘"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Rare"})]}),e.jsxs("div",{className:"p-2 bg-yellow-800/30 rounded-lg",children:[e.jsx("span",{className:"text-lg",children:"ðŸŽƒ"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Epic/Legendary"})]})]}),e.jsx("div",{className:"mt-2 text-center",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border border-yellow-500/30 rounded-full",children:[e.jsx("span",{className:"text-yellow-400 font-bold",children:"ðŸŽ°"}),e.jsx("span",{className:"text-yellow-400 text-sm font-semibold",children:"1,500 PTS Jackpot"})]})})]})]}),e.jsx("div",{className:"p-4 bg-gray-900/50 border-t border-white/5 shrink-0",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500",children:[e.jsx(v,{size:12}),e.jsx("span",{children:"Free spin every hour â€¢ Paid spin 150 PTS"})]})})]})]}):null};export{q as SpinModal,q as default};
