import{c as F,u as B,r as T,w as t,j as e,A as g,D as h,m as $,x as A,y as z}from"./index-CA2xEXh_.js";import{G as P}from"./gift-Bj_wn6-E.js";import{C as u}from"./circle-check-big-Czp4HeX4.js";import{C as D}from"./coins-B8EfQGyH.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],G=F("target",O),_=({isOpen:b,onClose:n,onNavigate:c,onShowToast:i})=>{const{dailyTasks:o,claimDailyTask:p,claimFullCompletionBonus:f,getDailyTaskStats:y}=B(),r=y(),[j,m]=T.useState(null);if(!b)return null;const N=async l=>{m(l.id);const a=p(l.id);a.success?i(a.message,"success"):i(a.message,"info"),m(null)},C=()=>{const l=f();l.success?i(l.message,"success"):i(l.message,"info")},v=l=>{const a=z(l.action);n(),c&&c(a)},w={[t.FARMING]:o.filter(l=>l.category===t.FARMING),[t.ECONOMIC]:o.filter(l=>l.category===t.ECONOMIC),[t.SOCIAL]:o.filter(l=>l.category===t.SOCIAL)};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md",onClick:n}),e.jsxs("div",{className:"relative w-full max-w-md bg-[#121212] border border-white/10 rounded-3xl shadow-2xl overflow-hidden backdrop-blur-xl animate-in fade-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"flex justify-between items-center p-5 bg-gradient-to-r from-amber-500 to-orange-600 border-b border-white/10 shrink-0",children:[e.jsxs("h2",{className:"text-xl font-black tracking-widest uppercase text-white drop-shadow-sm flex items-center gap-2",children:[e.jsx(G,{size:24,className:"fill-white"})," Daily Tasks"]}),e.jsx("button",{onClick:n,className:"bg-black/20 p-2 rounded-full hover:bg-black/40 text-white transition-colors",children:e.jsx(g,{size:20})})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-900 to-gray-800 border-b border-white/5 shrink-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Daily Progress"}),e.jsxs("span",{className:"text-sm font-bold text-white",children:[r.completed,"/",r.total," Tasks"]})]}),e.jsx("div",{className:"h-3 bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-green-400 to-emerald-500 transition-all duration-500 ease-out rounded-full",style:{width:`${r.progressPercent}%`}})}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[r.progressPercent,"% Complete"]}),r.canClaimFullBonus?e.jsx("span",{className:"text-xs text-green-400 font-semibold animate-pulse",children:"Full Bonus Available!"}):e.jsxs("span",{className:"text-xs text-gray-500",children:[r.remaining," remaining"]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide p-4 space-y-6",children:[e.jsxs("div",{className:`relative overflow-hidden rounded-2xl border-2 p-4 transition-all duration-300 ${r.canClaimFullBonus?"border-yellow-500/50 bg-gradient-to-br from-yellow-500/20 to-orange-500/20 animate-pulse":"border-gray-700 bg-gray-800/50 opacity-60"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl",children:e.jsx(P,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white",children:"Full Completion Bonus"}),e.jsxs("p",{className:"text-sm text-gray-400",children:[h.pts," PTS + ",h.item]})]})]}),e.jsx("button",{onClick:C,disabled:!r.canClaimFullBonus,className:`px-4 py-2 rounded-xl font-bold text-sm transition-all duration-300 ${r.canClaimFullBonus?"bg-gradient-to-r from-yellow-500 to-orange-500 text-white hover:scale-105 shadow-lg shadow-yellow-500/25":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:r.fullBonusClaimed?"Claimed":"Claim"})]}),r.canClaimFullBonus&&e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-yellow-500/20 rounded-full blur-2xl -mr-10 -mt-10"})]}),Object.entries(w).map(([l,a])=>{const d=A(l);return e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full ${d.bgColor}`,children:e.jsx("span",{className:`text-xs font-semibold ${d.color}`,children:d.label})}),e.jsx("div",{className:"space-y-2",children:a.map(s=>{const I=s.isCompleted&&!s.isClaimed,x=j===s.id;return e.jsxs("div",{className:`relative overflow-hidden rounded-xl border p-4 transition-all duration-300 ${s.isClaimed?"border-green-500/30 bg-green-500/10":s.isCompleted?"border-green-500/50 bg-green-500/5":"border-gray-700 bg-gray-800/50 hover:border-gray-600"}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${s.isClaimed?"bg-green-500/20 text-green-400":s.isCompleted?"bg-green-500/30 text-green-400":"bg-gray-700 text-gray-400"}`,children:s.isClaimed?e.jsx(u,{size:20}):e.jsx("span",{className:"text-xl",children:s.icon})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`font-semibold text-sm ${s.isClaimed?"text-gray-400 line-through":"text-white"}`,children:s.description}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{className:`${s.isCompleted?"text-green-400":"text-gray-400"}`,children:[s.currentProgress,"/",s.target]})]}),e.jsx("div",{className:"h-1.5 bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 rounded-full ${s.isCompleted?"bg-green-500":"bg-blue-500"}`,style:{width:`${Math.min(100,s.currentProgress/s.target*100)}%`}})})]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[e.jsx(D,{size:12,className:"text-yellow-400"}),e.jsxs("span",{className:"text-xs text-yellow-400 font-semibold",children:[s.rewardPts," PTS"]}),s.rewardItem&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-500 mx-1",children:"â€¢"}),e.jsx("span",{className:"text-xs text-purple-400",children:s.rewardItem})]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 shrink-0",children:[e.jsxs("button",{onClick:()=>v(s),disabled:s.isCompleted&&s.isClaimed,className:`px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-300 flex items-center gap-1 ${s.isCompleted&&s.isClaimed?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-500"}`,children:[s.isCompleted&&s.isClaimed?"Done":"Go",!s.isCompleted&&e.jsx(g,{size:12})]}),I&&e.jsx("button",{onClick:()=>N(s),disabled:x,className:"px-3 py-1.5 rounded-lg text-xs font-bold bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:scale-105 transition-all animate-bounce",children:x?"...":"Claim"})]})]}),s.isClaimed&&e.jsx("div",{className:"absolute top-2 right-12",children:e.jsx(u,{size:16,className:"text-green-500"})})]},s.id)})})]},l)})]}),e.jsx("div",{className:"p-4 bg-gray-900/50 border-t border-white/5 shrink-0",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500",children:[e.jsx($,{size:14}),e.jsx("span",{children:"Tasks reset daily at UTC 00:00"})]})})]})]})};export{_ as TaskModal,_ as default};
