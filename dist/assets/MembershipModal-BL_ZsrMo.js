import{c as S,u as _,r as b,P as l,j as e,C as G,X as H,a as x,b as L,A as q,E as f,d as y,M as Y,W as X,S as Z}from"./index-CA2xEXh_.js";import{W as k}from"./wallet-DJJf5PPg.js";import{W as J}from"./warehouse-CQFktp4z.js";import{Z as K}from"./zap-L-fdDti7.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],V=S("ban",Q);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],E=S("check",ee),ie=({isOpen:C,onClose:c,onShowToast:P,onUpgrade:$,onDepositClick:T})=>{var N,w;const{user:a}=_(),[i,p]=b.useState(null),[z,m]=b.useState(!1),[A,u]=b.useState(!1);if(!C)return null;const U=[l.MORTGAGE,l.TENANT,l.OWNER],B=s=>{const t=Y[s],r=[];return r.push({icon:e.jsx(X,{size:18}),title:`${t.features.autoPlots} Plots Active`,subtitle:"Automatically unlocked",color:"text-green-400"}),r.push({icon:e.jsx(J,{size:18}),title:t.features.storage===1/0?"Unlimited Storage":`${t.features.storage} Items`,subtitle:"Hold more harvests",color:"text-blue-400"}),r.push({icon:e.jsx(Z,{size:18}),title:`+${t.features.sellBonus}% Sell Bonus`,subtitle:"On every market sale",color:"text-amber-400"}),t.features.isAdFree?r.push({icon:e.jsx(V,{size:18}),title:"Ad-Free Experience",subtitle:"No ads, full focus",color:"text-purple-400"}):r.push({icon:e.jsx(K,{size:18}),title:`${t.features.adFrequency} Ads`,subtitle:t.features.adFrequency==="HIGH"?"More frequent ads":"Reduced ads",color:t.features.adFrequency==="MEDIUM"?"text-orange-400":"text-yellow-400"}),r},g=s=>{var t;return((t=x[s])==null?void 0:t.usdtPrice)||0},o=()=>a.balance/f,j=s=>{const t=g(s);return o()>=t},F=s=>{p(s),j(s)?m(!0):u(!0)},M=()=>{i&&($(i),P(`Welcome to ${i} Tier!`,"success"),c(),m(!1),p(null))},v=()=>{u(!1),c(),T()},h=s=>s.toLocaleString("en-US");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md",onClick:c}),e.jsxs("div",{className:"relative w-full max-w-md bg-[#121212] border border-white/10 rounded-3xl shadow-2xl overflow-hidden backdrop-blur-xl animate-in fade-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"flex justify-between items-center p-5 bg-gradient-to-r from-yellow-700 to-amber-600 border-b border-white/10 shrink-0",children:[e.jsxs("h2",{className:"text-xl font-black tracking-widest uppercase text-white drop-shadow-sm flex items-center gap-2",children:[e.jsx(G,{size:24,className:"fill-white"})," Membership"]}),e.jsx("button",{onClick:c,className:"bg-black/20 p-2 rounded-full hover:bg-black/40 text-white transition-colors",children:e.jsx(H,{size:20})})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-3 mx-4 mt-4 border border-gray-700 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"Current Plan"}),e.jsx("div",{className:"text-lg font-black text-white flex items-center gap-2",children:a.plan===l.FREE?"ðŸŒ± FREE":`${(N=x[a.plan])==null?void 0:N.icon} ${a.plan}`})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase",children:"Your Balance"}),e.jsxs("div",{className:"text-sm font-bold text-amber-400",children:[h(a.balance)," PTS"]}),e.jsxs("div",{className:"text-[10px] text-gray-500",children:["(",o().toFixed(2)," USDT)"]})]})]}),e.jsx("div",{className:"p-4 overflow-y-auto scrollbar-hide space-y-4",children:U.map(s=>{const t=x[s],r=a.plan===s,d=j(s),R=B(s),W=g(s),D=o(),I=Math.max(0,W-D);return e.jsxs("div",{className:`
                    relative rounded-2xl overflow-hidden border-2 transition-all duration-300
                    ${t.border}
                    ${r?"opacity-60":""}
                    ${!r&&d?"hover:scale-[1.02] hover:shadow-xl":""}
                    ${s===l.OWNER&&!r?"shadow-yellow-500/20 shadow-2xl":""}
                  `,children:[s===l.OWNER&&!r&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/10 via-amber-500/10 to-yellow-500/10 animate-pulse"}),e.jsxs("div",{className:`p-5 bg-gradient-to-r ${t.color} relative overflow-hidden`,children:[s===l.OWNER&&!r&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -skew-x-12 animate-[shimmer_2s_infinite]"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"text-4xl filter drop-shadow-lg",children:t.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black uppercase tracking-wider text-white drop-shadow-md",children:t.label}),e.jsx("p",{className:"text-xs font-bold text-white/80 uppercase tracking-wide",children:"Membership Tier"})]})]}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsx("div",{className:"bg-black/30 rounded-lg px-3 py-1.5",children:e.jsx("span",{className:"text-lg font-black text-white",children:t.price})}),r&&e.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 rounded-lg px-3 py-1 flex items-center gap-1",children:[e.jsx(E,{size:14,className:"text-green-400"}),e.jsx("span",{className:"text-xs font-bold text-green-400 uppercase",children:"Active"})]})]})]})]}),e.jsx("div",{className:"bg-[#1E1E1E] p-4 space-y-3",children:R.map((n,O)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`
                          w-10 h-10 rounded-xl flex items-center justify-center shrink-0 border
                          bg-gray-800/50 ${n.color}
                        `,children:n.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-bold text-gray-200",children:n.title}),n.subtitle&&e.jsx("div",{className:"text-[11px] text-gray-500",children:n.subtitle})]}),e.jsx("div",{className:"text-lg opacity-30",children:n.icon})]},O))}),e.jsx("div",{className:"p-4 pt-3 bg-[#1E1E1E]",children:r?e.jsxs("button",{disabled:!0,className:`w-full py-3.5 rounded-xl font-black uppercase tracking-wider text-sm
                          bg-gray-700 border-gray-800 text-gray-400 cursor-default flex items-center justify-center gap-2`,children:[e.jsx(E,{size:18})," Current Plan"]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>F(s),className:`
                            w-full py-3.5 rounded-xl font-black uppercase tracking-wider text-sm
                            transition-all border-b-4 active:border-b-0 active:translate-y-1
                            flex items-center justify-center gap-2
                            ${d?"bg-gradient-to-r from-green-500 to-emerald-500 border-green-700 text-white hover:brightness-110":"bg-gradient-to-r from-red-500 to-orange-500 border-red-700 text-white hover:brightness-110"}
                          `,children:d?e.jsxs(e.Fragment,{children:[e.jsx(k,{size:18})," Buy for ",t.price]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:18})," Insufficient Balance"]})}),!d&&e.jsxs("button",{onClick:v,className:`w-full mt-2 py-2.5 rounded-lg font-bold text-xs
                              text-amber-400 hover:text-amber-300 transition-colors
                              bg-amber-400/10 border border-amber-400/20
                              flex items-center justify-center gap-2`,children:[e.jsx(k,{size:14})," Need ",h(I*f)," PTS? Deposit Now",e.jsx(q,{size:14})]})]})})]},s)})}),e.jsx("div",{className:"p-4 border-t border-white/5 bg-black/20",children:e.jsxs("div",{className:"text-[10px] text-gray-500 text-center",children:["ðŸ’° 1 USDT = ",f.toLocaleString()," PTS"]})})]})]}),e.jsx(y,{isOpen:z,title:`Upgrade to ${i}`,message:`Confirm purchase of ${i} membership for ${i?(w=x[i])==null?void 0:w.price:""}?`,onConfirm:M,onCancel:()=>m(!1),variant:"warning",confirmText:"Yes, Upgrade",cancelText:"Cancel"}),e.jsx(y,{isOpen:A,title:"Insufficient Balance",message:`You need more PTS to upgrade. Your current balance: ${h(a.balance)} PTS (${o().toFixed(2)} USDT). Would you like to deposit now?`,onConfirm:v,onCancel:()=>u(!1),variant:"danger",confirmText:"Deposit Now",cancelText:"Cancel"})]})};export{ie as MembershipModal};
